//ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œæ‰¾åˆ° s ä¸­æœ€é•¿çš„å›æ–‡å­ä¸²ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼šs = "babad"
//è¾“å‡ºï¼š"bab"
//è§£é‡Šï¼š"aba" åŒæ ·æ˜¯ç¬¦åˆé¢˜æ„çš„ç­”æ¡ˆã€‚
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šs = "cbbd"
//è¾“å‡ºï¼š"bb"
// 
//
// ç¤ºä¾‹ 3ï¼š 
//
// 
//è¾“å…¥ï¼šs = "a"
//è¾“å‡ºï¼š"a"
// 
//
// ç¤ºä¾‹ 4ï¼š 
//
// 
//è¾“å…¥ï¼šs = "ac"
//è¾“å‡ºï¼š"a"
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// 1 <= s.length <= 1000 
// s ä»…ç”±æ•°å­—å’Œè‹±æ–‡å­—æ¯ï¼ˆå¤§å†™å’Œ/æˆ–å°å†™ï¼‰ç»„æˆ 
// 
// Related Topics å­—ç¬¦ä¸² åŠ¨æ€è§„åˆ’ 
// ğŸ‘ 3837 ğŸ‘ 0


class Solution {
    //åŠ¨æ€è§„åˆ’
    //åˆ©ç”¨å›æ–‡ä¸²çš„ç‰¹æ€§:
    //å¦‚æœä¸€ä¸ªå­—ä¸²æ˜¯å›æ–‡å­—ä¸²ï¼Œé‚£ä¹ˆå»æ‰å·¦å³ä¸¤è¾¹çš„å­—ç¬¦ä¹‹åä¾ç„¶æ˜¯å›æ–‡ã€‚ä¹Ÿå¯ä»¥è¯´æ˜¯ä¸€ä¸ªå›æ–‡å­—ä¸²ï¼Œå·¦å³ä¸¤è¾¹åŠ ä¸Šç›¸åŒçš„å­—ç¬¦ï¼Œä¹Ÿæ˜¯å›æ–‡å­—ä¸²ã€‚
    public String longestPalindrome1(String s) {
        if(s.equals(""))  return s;

        int len = s.length(),left = 0,right = 0;
        // ä½¿ç”¨ç´¢å¼• i å’Œ j æ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²ä»ç´¢å¼• i åˆ° j çš„å­ä¸²ï¼Œ
        // db[i][j] è¡¨ç¤ºå­—ç¬¦ä¸²åŒºé—´ [i, j] æ˜¯å¦ä¸ºå›æ–‡ä¸²ï¼Œtrueè¡¨ç¤ºå›æ–‡
        boolean[][] db = new boolean[len][len];
        // æ³¨æ„,è¿™é‡Œçš„éå†ä¸å¹³å¸¸æˆ‘ä»¬å¯¹å­—ç¬¦ä¸²çš„éå†ä¸ä¸€æ ·
        for(int j = 0;j<len;j++)
            for(int i =0;i<=j;i++){
                db[i][j] = (s.charAt(i) == s.charAt(j))&&(j-i<2 || db[i+1][j-1]);
                //å¦‚æœæ˜¯å›æ–‡å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”æ¯”ä¹‹å‰çš„å›æ–‡å­—ç¬¦ä¸²è¦é•¿ï¼Œæ›´æ–°å­—ç¬¦ä¸²é•¿åº¦ï¼Œè®°å½•å­—ç¬¦ä¸²
                if(db[i][j] && j-i>right-left){
                    left = i;
                    right = j;
                }
            }
        return s.substring(left,right+1);
    }

    //ä¸­å¿ƒæ‰©å±•ç®—æ³•
    public String longestPalindrome(String s) {
        if(s.equals(""))  return s;

        int start = 0,end = 0;
        for(int i =0;i<s.length();i++){
            int len1 = expandAroundCenter(s,i,i); //ä»¥ä¸€ä¸ªç‚¹ä¸ºä¸­å¿ƒå‘å¤–æ‰©å±•ï¼Œç›´åˆ°ä¸æ˜¯å›æ–‡ä¸ºæ­¢
            int len2 = expandAroundCenter(s,i,i+1);// ä»¥ä¸¤ä¸ªç‚¹ä¸ºä¸­å¿ƒå‘å¤–æ‰©å±•ï¼Œç›´åˆ°ä¸æ˜¯å›æ–‡ä¸ºæ­¢
            int len = Math.max(len1,len2); // //æ‰¾å‡ºä¸¤ä¸ªä¸­çš„æœ€å¤§å›æ–‡é•¿åº¦
            if(len >end-start+1){ //å¦‚æœå¤§äºä¿å­˜çš„æœ€å¤§å›æ–‡é•¿åº¦ï¼Œåˆ™è®¡ç®—å¹¶æ›´æ–°æœ€å¤§å›æ–‡çš„ä½ç½®
                start = i -(len-1)/2;
                end = i+len/2;
            }
        }
        return s.substring(start,end+1);
    }

    public int expandAroundCenter(String s,int i,int j){
        while(i>=0 && j<s.length() && s.charAt(i) == s.charAt(j)){
            i--;j++;//åˆ†åˆ«å‘å·¦å³æ‹“å±•
        }
        return j-i-1;
    }
}
